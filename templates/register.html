<!doctype html>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<title>Online Course Website</title>
<div class="container">
  <nav class="navbar navbar-expand-sm navbar-light">
    <a class="navbar-brand" href="/">OnCoLi</a>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/courses">Courses</a>
      </li>
      <li class="nav-item">
        {% if session.user_id %}
          <a class="nav-link" href="/user/{{ session.user_id  }}">User</a> 
        {% endif %}
      </li>
        {% if session.user_id %}
          {% if status %}
            <a class="nav-link" href="/admin">Admin page</a>
          {% endif %}
        {% endif %}
      </li>
      <li>
        {% with messages = get_flashed_messages() %}
          {% if messages %}

            <div class="alert alert-danger" role="alert">  
            <ul>
              {% for message in messages %}
                <li>{{ message }}</li>
              {% endfor %}
            </ul>
            </div>
          {% endif %}
        {% endwith %}        
      </li>
    </ul>
  </nav>
  <div class="row">
    <div class="col-8">
      <h1>Register an account</h1>
      <p>
        Here you can register an account with either normal or admin status. In a real situation the admin option would of course be deleted and is here only for demonstrative purposes.
      <p>
    
        <h4>Create an Account</h4>
        <div>


        </div>
        {% if session.user_id %}
            <p>You are logged in as {{ user }}</p>
            <a href="/logout" class="btn btn-primary" >Logout</a>
        {% else %}
            <form action="/register" method="post">

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="status" id="inlineRadio1" value="normal" checked="checked">
                    <label class="form-check-label" for="inlineRadio1">Normal user</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="status" id="inlineRadio2" value="admin">
                    <label class="form-check-label" for="inlineRadio2">Admin</label>
                </div>
                
                <p></p>

                <div class="form-group col-6">
                <label for="inputUsername">Username</label>
                <input type="text" class="form-control" id="inputUsername" name="username">
                </div>
                <div class="form-group col-6">
                <label for="inputPassword">Password</label>
                <input type="password" class="form-control" id="inputPassword1" name="password1">
                </div>
                <div class="form-group col-6">
                <label for="inputPassword">Confirm password</label>
                <input type="password" class="form-control" id="inputPassword2" name="password2">
                </div>
                <div class="form-group col-6">
                <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
                <input type="submit" class="btn btn-primary" value="Create account">
                </div>
            </form>
    {% endif %}
</div>
</div>
